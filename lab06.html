<!DOCTYPE html>
<html lang="en">

  <head>
    <title>My memory game</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>  

  <body>
    <div id="root"></div>
    <script type="text/babel">

        const totalCards = 36;

        const shufflingCards = () => {
            const icons = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 11, 12, 13, 14, 1, 8, 15, 9, 5, 6, 10, 16, 7, 17, 18, 16, 3, 15, 14, 2, 12, 4, 13, 18, 17];
            let cards = [];
            while (cards.length < icons.length) {
                const card = {
                    valueicon: icons.splice (1, 1),
                    wasPaired: false
                };
                cards.push(card);
                cards.push({...card});
            }
            
            return cards;
        };

        class GameInfo extends React.Component {
                render() {
                    return (
                        <header>
                            <div className="gameinfo">Attempts: </div>
                        </header>
                    );
                }
            }

            class Board extends React.Component {
                renderSquare(i) {
                    return (
                    <Square
                        value={this.props.squares[i]}
                        onClick={() => this.props.onClick(i)}
                    />
                    );
                }
                render() {
                    return (
                        <div className="board">
                        {
                            this.props.deck.map((card) => <Card icon={card.valueicon}/>)
                        }
                        </div>
                    );
                }
            }

            class Card extends React.Component {
                render() {
                    return(
                        <div className="card">
                            <i className={'fa ${this.props.icon} fa-5x'}></i>
                        </div>
                    );
                }
            }

            const getInitialState = () => {
                const deck = shufflingCards();
                return {
                    deck
                }
            };


            class Game extends React.Component {
                constructor(props) {
                    super(props);
                    this.state = getInitialState();
                }


                render() {
                    return (
                    <div className="game">
                        <div className="game-board">
                        <GameInfo />
                        <Board deck={this.state.deck}/>
                        </div>
                    </div>
                    );
                }
            }

            // ========================================

            ReactDOM.render(
                <Game />,
                document.getElementById('root')
                );
   
        </script>
    </body>
</html>
